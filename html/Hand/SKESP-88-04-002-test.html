<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=contain" />
    <title>Document</title>
    <script>
      function setFontSize() {
        var doc = document.documentElement,
          fontSizeVal = parseInt((doc.clientWidth / 375) * 62.5 * 10) / 10;
        fontSizeVal = fontSizeVal >= 125 ? 125 : fontSizeVal;

        doc.style.fontSize = fontSizeVal + "%";
      }
      setFontSize();
      window.addEventListener("resize", setFontSize);
    </script>
    <link rel="stylesheet" href="../../assets/css/style.css" />
  </head>

  <body>
    <div id="container">
      <!-- Header -->
      <header class="header header-sub">
        <h1 class="title">{{ title }}</h1>
        <div class="left">
          <button type="button" class="bg-icon prev">
            이전페이지
          </button>
        </div>
        <div class="right">
          <button type="button" class="bg-icon menu">
            메뉴
          </button>
        </div>
      </header>
      <!-- //Header -->

      <!-- Wrap-contents -->
      <div class="wrap-contents">
        <div class="map-wrap">
          MAP
          <a href="https://www.naver.com" target="_blank">naver</a>
        </div>
      </div>
      <!-- //Wrap-contents -->

      <!-- Footer -->
    </div>

    <!-- Layer Pop -->
    <!-- 드레그시 active 클래스 추가 -->
    <div class="wrapper-layer pos-bottom none-mask pos-drag">
      <div class="wrap-layer">
        <div class="inner-layer">
          <div class="layer-cont type-info">
            <div class="form-search">
              <!-- 텍스트가 입력 될 경우 active 클래스 추가 -btn-clear-x 버튼 활성-->
              <input type="text" placeholder="지번, 도로명, 건물명으로 입력해주세요." />
              <button type="button" class="btn-clear-x" title="검색단어 삭제"><i class="bg-icon clear-x"></i></button>
              <button type="button" class="btn-search" title="검색"><i class="bg-icon search"></i></button>
            </div>
          </div>
          <div class="layer-cont">
            <div class="title-sub">
              <p class="title">최근 검색 위치</p>
            </div>
          </div>
          <div class="layer-cont scroll-cont">
            <div class="search-result">
              <ul class="result-list">
                <li>
                  <a href="#">
                    <p class="title"><i class="bg-icon location-small"></i> 시그니쳐타워</p>
                    <div class="desc">
                      <p class="new-address">서울시 중구 청계천로 100 시그니쳐타워</p>
                      <p class="old-address">서울 중구 수표동 99 시그니쳐타워</p>
                    </div>
                  </a>
                  <button type="button" class="btn-del"><i class="bg-icon del">삭제</i></button>
                </li>
                <li>
                  <a href="#">
                    <p class="title"><i class="bg-icon location-small"></i> 시그니쳐타워</p>
                    <div class="desc">
                      <p class="new-address">서울시 중구 청계천로 100 시그니쳐타워</p>
                      <!-- <p class="old-address">서울 중구 수표동 99 시그니쳐타워</p> -->
                    </div>
                  </a>
                  <button type="button" class="btn-del"><i class="bg-icon del">삭제</i></button>
                </li>
                <li>
                  <a href="#">
                    <p class="title"><i class="bg-icon location-small"></i> 시그니쳐타워</p>
                    <div class="desc">
                      <!-- <p class="new-address">서울시 중구 청계천로 100 시그니쳐타워</p> -->
                      <p class="old-address">서울 중구 수표동 99 시그니쳐타워</p>
                    </div>
                  </a>
                  <button type="button" class="btn-del"><i class="bg-icon del">삭제</i></button>
                </li>
                <li>
                  <a href="#">
                    <p class="title"><i class="bg-icon location-small"></i> 시그니쳐타워</p>
                    <div class="desc">
                      <p class="new-address">서울시 중구 청계천로 100 시그니쳐타워</p>
                      <p class="old-address">서울 중구 수표동 99 시그니쳐타워</p>
                    </div>
                  </a>
                  <button type="button" class="btn-del"><i class="bg-icon del">삭제</i></button>
                </li>
                <li>
                  <a href="#">
                    <p class="title"><i class="bg-icon location-small"></i> 시그니쳐타워</p>
                    <div class="desc">
                      <p class="new-address">서울시 중구 청계천로 100 시그니쳐타워</p>
                      <p class="old-address">서울 중구 수표동 99 시그니쳐타워</p>
                    </div>
                  </a>
                  <button type="button" class="btn-del"><i class="bg-icon del">삭제</i></button>
                </li>
                <li>
                  <a href="#">
                    <p class="title"><i class="bg-icon location-small"></i> 시그니쳐타워</p>
                    <div class="desc">
                      <p class="new-address">서울시 중구 청계천로 100 시그니쳐타워</p>
                      <p class="old-address">서울 중구 수표동 99 시그니쳐타워</p>
                    </div>
                  </a>
                  <button type="button" class="btn-del"><i class="bg-icon del">삭제</i></button>
                </li>
                <li>
                  <a href="#">
                    <p class="title"><i class="bg-icon location-small"></i> 시그니쳐타워</p>
                    <div class="desc">
                      <p class="new-address">서울시 중구 청계천로 100 시그니쳐타워</p>
                      <p class="old-address">서울 중구 수표동 99 시그니쳐타워</p>
                    </div>
                  </a>
                  <button type="button" class="btn-del"><i class="bg-icon del">삭제</i></button>
                </li>
                <li>
                  <a href="#">
                    <p class="title"><i class="bg-icon location-small"></i> LAST 시그니쳐타워</p>
                    <div class="desc">
                      <p class="new-address">서울시 중구 청계천로 100 시그니쳐타워</p>
                      <p class="old-address">서울 중구 수표동 99 시그니쳐타워</p>
                    </div>
                  </a>
                  <button type="button" class="btn-del"><i class="bg-icon del">삭제</i></button>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <button type="button" class="bg-icon layer-touch">
          레이어팝업 닫기
        </button>
      </div>
      <div class="mask"></div>
    </div>
    <!-- //Layer Pop -->
    <style>
      .map-wrap{height:calc(100% - 5.5rem);}
      .wrapper-layer.pos-drag {
        bottom: auto;
        top: 0;
      }
      .wrapper-layer.pos-bottom .inner-layer {
        /* padding-top: 0; */
      }
    </style>
    <script>
      let el = document.querySelector(".layer-touch");
      let layer = document.querySelector(".wrapper-layer").style;
      let init = {
        default: 68,
        max: 85,
        win_height: window.screen.availHeight,
      };
      layer.transform = "translateY(" + (init.win_height - (init.win_height * init.default) / 100) + "px)";
      layer.minHeight = (init.win_height * init.default) / 100 + "px";

      el.addEventListener("touchmove", function (e) {
        let touch = e.touches[0];
        if (init.win_height - Math.floor(touch.pageY - el.clientHeight / 2) < el.clientHeight) {
          layer.transform = "translateY(" + Math.floor(init.win_height - el.clientHeight) + "px)";
        } else if (init.win_height - Math.floor(touch.pageY - el.clientHeight / 2) > (init.win_height * init.max) / 100) {
          layer.minHeight = (init.win_height * init.max) / 100 + "px";
        } else {
          layer.transform = "translateY(" + Math.floor(touch.pageY - el.clientHeight / 2) + "px)";
          layer.minHeight = init.win_height - Math.floor(touch.pageY - el.clientHeight / 2) + "px";
        }
      });
      el.addEventListener("touchend", function (e) {
        console.log("==========DONE===========");
      });
    </script>
    </script>
  </body>
</html>
